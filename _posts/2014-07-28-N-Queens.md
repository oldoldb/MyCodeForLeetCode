---
layout: post
title: N-Queens
date: 2014-07-28 15:52:16
disqus: y
---

## 题意：
打印N皇后的所有排列形式

## 要求：


## 思路：
和N皇后一样

## 代码：

### C++:

{% highlight c++ %}
class Solution {
public:
    int queen[15];
    bool isok(int pos)
    {
        for(int i=0;i<pos;i++)
        {
            if(queen[i]==queen[pos])
            {
                return false;
            }
            if(abs(i-pos)==abs(queen[i]-queen[pos]))
            {
                return false;
            }
        }
        return true;
    }
    void dfs(int pos,int n,vector<vector<string> >&ans)
    {
        if(pos==n)
        {
            vector<string>vec;
            for(int i=0;i<n;i++)
            {
                string str="";
                for(int j=0;j<n;j++)
                {
                    if(queen[i]==j)
                    {
                        str+='Q';
                    }
                    else
                    {
                        str+='.';
                    }
                }
                vec.push_back(str);
            }
            ans.push_back(vec);
            return;
        }
        for(int i=0;i<n;i++)
        {
            queen[pos]=i;
            if(isok(pos))
            {
                dfs(pos+1,n,ans);
            }
        }
    }
    vector<vector<string> > solveNQueens(int n) {
        vector<vector<string> >ans;
        dfs(0,n,ans);
        return ans;
    }
};


 {% endhighlight %}
### python:

{% highlight python %}

class Solution:
    def isok(self,pos,queen):
        for i in range(pos):
            if queen[i]==queen[pos]:
                return False
            if abs(i-pos)==abs(queen[i]-queen[pos]):
                return False
        return True
    def dfs(self,pos,n,queen,ans):
        if pos==n:
            vec=[]
            for i in range(n):
                s=""
                for j in range(n):
                    if queen[i]==j:
                        s+='Q'
                    else:
                        s+='.'
                vec.append(s)
            ans.append(vec)
            return 
        for i in range(n):
            queen[pos]=i
            if self.isok(pos,queen):
                self.dfs(pos+1,n,queen,ans)
    # @return a list of lists of string
    def solveNQueens(self, n):
        queen=[0 for i in range(15)]
        ans=[]
        self.dfs(0,n,queen,ans)
        return ans
 {% endhighlight %}
