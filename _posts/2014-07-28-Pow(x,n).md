---
layout: post
title: Pow(x,n)
date: 2014-07-28 15:52:16
disqus: y
---

## 题意：
实现pow(x,n)

## 要求：


## 思路：
这里采用的快速幂的方法，要注意的是n的数据范围
当n==INT_MIN的时候，如果单纯的将pow(x,n)转换为1/pow(x,-n),-n的数据范围会溢出，而-INT_MIN!=INT_MAX，所以这里需要做一些特殊的转换

## 代码：

### C++:

{% highlight c++ %}
class Solution {
public:
    double pow(double x, int n) {
        if(n==0)
        {
            return 1;
        }
        if(n<0)
        {
            if(n==INT_MIN)
            {
                return 1.0/(pow(x,INT_MAX)*x);
            }
            else
            {
                return 1.0/pow(x,-n);
            }
        }
        double temp=pow(x,n>>1);
        if(n%2)
        {
            return temp*temp*x;
        }
        else
        {
            return temp*temp;
        }
    }
};


 {% endhighlight %}
### python:

{% highlight python %}

class Solution:
    # @param x, a float
    # @param n, a integer
    # @return a float
    def pow(self, x, n):
        if n==0:
            return 1
        if n<0:
            if n==-2147483648:
                return 1.0/(self.pow(x,2147483647)*x)
            else:
                return 1.0/self.pow(x,-n)
        temp=self.pow(x,n/2)
        if n%2:
            return temp*temp*x
        else:
            return temp*temp
 {% endhighlight %}
